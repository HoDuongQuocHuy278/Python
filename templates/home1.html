{% extends "base.html" %}
{% block title %}Trang ch·ªß{% endblock %}

{% block content %}
<!-- HERO -->
<section class="hero-box mb-4">
  <div class="row align-items-center">
    <div class="col-lg-8">
      <h1 class="display-6 fw-bold mb-2 text-white">
        Ch√†o {{ current_user.fullname if current_user else "b·∫°n" }} üëã
      </h1>
      <p class="lead text-white-50 mb-3">
        Ch√∫c b·∫°n m·ªôt ng√†y l√†m vi·ªác hi·ªáu qu·∫£! ƒê√¢y l√† b·∫£ng ƒëi·ªÅu khi·ªÉn nhanh c·ªßa b·∫°n.
      </p>
      <div class="d-flex flex-wrap gap-2">
        {% if is_logged_in %}
          <a class="btn btn-light btn-lg" href="{{ url_for('profile') }}">
            <i class="fa-regular fa-user me-2"></i>H·ªì s∆°
          </a>
          {% if current_user.role in ['staff','admin'] %}
          <a class="btn btn-outline-light btn-lg" href="{{ url_for('staff_area') }}">
            <i class="fa-solid fa-people-group me-2"></i>Nh√¢n vi√™n
          </a>
          {% endif %}
          {% if current_user.role == 'admin' %}
          <a class="btn btn-outline-light btn-lg" href="{{ url_for('admin_users') }}">
            <i class="fa-solid fa-users-gear me-2"></i>Qu·∫£n l√Ω ng∆∞·ªùi d√πng
          </a>
          {% endif %}
        {% else %}
          <a class="btn btn-light btn-lg" href="{{ url_for('login') }}"><i class="fa-solid fa-right-to-bracket me-2"></i>ƒêƒÉng nh·∫≠p</a>
          <a class="btn btn-outline-light btn-lg" href="{{ url_for('register') }}"><i class="fa-regular fa-id-card me-2"></i>ƒêƒÉng k√Ω</a>
        {% endif %}
      </div>
    </div>
    <div class="col-lg-4 d-none d-lg-block">
      <div class="hero-blob"></div>
    </div>
  </div>
</section>

<!-- TH√îNG TIN C∆† B·∫¢N -->
<div class="row g-3 mb-4">
  <div class="col-md-4">
    <div class="card shadow-sm stat-card">
      <div class="card-body d-flex align-items-center">
        <div class="stat-icon me-3"><i class="fa-regular fa-envelope"></i></div>
        <div>
          <div class="text-muted small">Email</div>
          <div class="fw-semibold">{{ current_user.email }}</div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card shadow-sm stat-card">
      <div class="card-body d-flex align-items-center">
        <div class="stat-icon me-3"><i class="fa-solid fa-shield-halved"></i></div>
        <div>
          <div class="text-muted small">Quy·ªÅn</div>
          <span class="badge rounded-pill bg-dark-subtle text-dark fw-semibold">{{ current_user.role|upper }}</span>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card shadow-sm stat-card">
      <div class="card-body d-flex align-items-center">
        <div class="stat-icon me-3"><i class="fa-regular fa-clock"></i></div>
        <div>
          <div class="text-muted small">Tr·∫°ng th√°i</div>
          <div class="fw-semibold">ƒêang ho·∫°t ƒë·ªông</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- KHU V·ª∞C THEO ROLE -->
{% if current_user.role == 'admin' %}
<div class="card shadow-sm mb-3">
  <div class="card-header bg-transparent d-flex align-items-center">
    <i class="fa-solid fa-crown me-2"></i> Khu v·ª±c Admin
  </div>
  <div class="card-body">
    <div class="row g-3">
      <div class="col-md-4">
        <a class="quick-card" href="{{ url_for('admin_users') }}">
          <i class="fa-solid fa-users-gear"></i>
          <span>Qu·∫£n l√Ω ng∆∞·ªùi d√πng</span>
        </a>
      </div>
      <div class="col-md-4">
        <a class="quick-card" href="{{ url_for('admin_dashboard') }}">
          <i class="fa-solid fa-chart-simple"></i>
          <span>Dashboard qu·∫£n tr·ªã</span>
        </a>
      </div>
      <div class="col-md-4">
        <a class="quick-card" href="{{ url_for('staff_area') }}">
          <i class="fa-solid fa-user-tie"></i>
          <span>Khu v·ª±c nh√¢n vi√™n</span>
        </a>
      </div>
    </div>
  </div>
</div>
{% elif current_user.role == 'staff' %}
<div class="card shadow-sm mb-3">
  <div class="card-header bg-transparent d-flex align-items-center">
    <i class="fa-solid fa-briefcase me-2"></i> C√¥ng c·ª• d√†nh cho Nh√¢n vi√™n
  </div>
  <div class="card-body">
    <div class="row g-3">
      <div class="col-md-6">
        <a class="quick-card" href="{{ url_for('staff_area') }}">
          <i class="fa-solid fa-list-check"></i>
          <span>T√°c v·ª• n·ªôi b·ªô</span>
        </a>
      </div>
      <div class="col-md-6">
        <a class="quick-card" href="{{ url_for('profile') }}">
          <i class="fa-regular fa-user"></i>
          <span>Th√¥ng tin c√° nh√¢n</span>
        </a>
      </div>
    </div>
  </div>
</div>
{% else %}
<div class="card shadow-sm mb-3">
  <div class="card-header bg-transparent d-flex align-items-center">
    <i class="fa-regular fa-face-smile me-2"></i> G·ª£i √Ω cho b·∫°n
  </div>
  <div class="card-body">
    <div class="row g-3">
      <div class="col-md-6">
        <a class="quick-card" href="{{ url_for('profile') }}">
          <i class="fa-regular fa-id-badge"></i>
          <span>C·∫≠p nh·∫≠t h·ªì s∆°</span>
        </a>
      </div>
      <div class="col-md-6">
        <a class="quick-card" href="{{ url_for('logout') }}">
          <i class="fa-solid fa-right-from-bracket"></i>
          <span>ƒêƒÉng xu·∫•t</span>
        </a>
      </div>
    </div>
  </div>
</div>
{% endif %}
{% endblock %}
